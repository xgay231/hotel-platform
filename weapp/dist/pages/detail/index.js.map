{"version":3,"file":"pages/detail/index.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA;AAAA;AAoBA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAEA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAGA;AAEA;;;;;;;;;;;;;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://hotel-platform/._src_pages_detail_index.tsx","webpack://hotel-platform/./src/pages/detail/index.tsx?ca4e"],"sourcesContent":["import { View, Image, Text, Button } from '@tarojs/components'\r\nimport Taro from '@tarojs/taro'\r\nimport { useEffect, useState } from 'react'\r\nimport './index.scss'\r\n\r\n// æ‰©å±•é…’åº—æ•°æ®ç±»å‹ï¼ŒåŒ…å«æ‰€æœ‰å¿…å¡«ç»´åº¦\r\ninterface RoomType {\r\n  name: string; // æˆ¿å‹åç§°ï¼ˆå¦‚å¤§åºŠæˆ¿ï¼‰\r\n  price: number; // æˆ¿å‹ä»·æ ¼ï¼ˆå…ƒ/æ™šï¼‰\r\n  desc: string; // æˆ¿å‹æè¿°ï¼ˆå¦‚20ã¡ | 1.8måºŠï¼‰\r\n}\r\n\r\ninterface HotelInfo {\r\n  id: string;\r\n  nameCn: string; // é…’åº—ä¸­æ–‡å\r\n  nameEn: string; // é…’åº—è‹±æ–‡å\r\n  star: number; // é…’åº—æ˜Ÿçº§ï¼ˆ1-5ï¼‰\r\n  address: string; // é…’åº—åœ°å€\r\n  openTime: string; // å¼€ä¸šæ—¶é—´ï¼ˆæ ¼å¼ï¼šYYYY-MMï¼‰\r\n  coverImage: string; // å°é¢å›¾\r\n  roomTypes: RoomType[]; // æˆ¿å‹åˆ—è¡¨\r\n  facilities: string[]; // è®¾æ–½\r\n  desc: string; // ç®€ä»‹\r\n}\r\n\r\nconst HotelDetailPage = () => {\r\n  const [hotelInfo, setHotelInfo] = useState<HotelInfo | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  // æ¨¡æ‹Ÿé…’åº—æ•°æ®åº“ï¼ˆåŒ…å«æ‰€æœ‰å¿…å¡«ç»´åº¦ï¼‰\r\n  const hotelDatabase: HotelInfo[] = [\r\n    {\r\n      id: 'hotel_001',\r\n      nameCn: 'XXç²¾å“é…’åº—ï¼ˆå¸‚ä¸­å¿ƒåº—ï¼‰',\r\n      nameEn: 'XX Boutique Hotel (Downtown)',\r\n      star: 4, // å››æ˜Ÿçº§\r\n      address: 'åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯88å·',\r\n      openTime: '2020-08', // å¼€ä¸šæ—¶é—´\r\n      coverImage: 'https://picsum.photos/750/400?hotel1',\r\n      roomTypes: [\r\n        { name: 'èˆ’é€‚å¤§åºŠæˆ¿', price: 299, desc: '20ã¡ | 1.8måºŠ | æ— æ—©é¤' },\r\n        { name: 'è±ªååŒåºŠæˆ¿', price: 369, desc: '25ã¡ | 1.2m*2åºŠ | å«åŒæ—©' },\r\n        { name: 'è¡Œæ”¿å¥—æˆ¿', price: 599, desc: '40ã¡ | 1.8måºŠ + å®¢å… | å«åŒæ—©' }\r\n      ],\r\n      facilities: ['å…è´¹WiFi', '24å°æ—¶çƒ­æ°´', 'åœè½¦åœº', 'æ—©é¤'],\r\n      desc: 'ç´§é‚»åœ°é“å£ï¼Œäº¤é€šä¾¿åˆ©ï¼Œæˆ¿é—´å®½æ•æ˜äº®ï¼Œé…å¥—è®¾æ–½é½å…¨ï¼Œæ˜¯å•†åŠ¡å‡ºè¡Œå’Œæ—…æ¸¸ä½å®¿çš„é¦–é€‰ã€‚'\r\n    },\r\n    {\r\n      id: 'hotel_002',\r\n      nameCn: 'XXåº¦å‡é…’åº—ï¼ˆæ™¯åŒºåº—ï¼‰',\r\n      nameEn: 'XX Resort Hotel (Scenic Area)',\r\n      star: 5, // äº”æ˜Ÿçº§\r\n      address: 'æ­å·å¸‚è¥¿æ¹–åŒºé¾™äº•è·¯12å·',\r\n      openTime: '2018-12',\r\n      coverImage: 'https://picsum.photos/750/400?hotel2',\r\n      roomTypes: [\r\n        { name: 'æ¹–æ™¯å¤§åºŠæˆ¿', price: 459, desc: '30ã¡ | 1.8måºŠ | å«åŒæ—©' },\r\n        { name: 'äº²å­å¥—æˆ¿', price: 689, desc: '50ã¡ | 1.8m+1.2måºŠ | å«3æ—©' },\r\n        { name: 'æ¸©æ³‰åˆ«å¢…', price: 1299, desc: '80ã¡ | ç‹¬æ ‹ | ç§æ±¤æ¸©æ³‰ | å«4æ—©' }\r\n      ],\r\n      facilities: ['æ¹–æ™¯æˆ¿', 'æ¸©æ³‰', 'å¥èº«æˆ¿', 'æ¥é€æœåŠ¡'],\r\n      desc: 'ç›´é¢è¥¿æ¹–ç¾æ™¯ï¼Œæ¨çª—è§æ™¯ï¼Œåº¦å‡é£è£…ä¿®ï¼Œé…å¥—æ¸©æ³‰å’Œå¥èº«è®¾æ–½ï¼Œä½“éªŒæ„Ÿæ‹‰æ»¡ã€‚'\r\n    }\r\n  ]\r\n\r\n  // æ ¼å¼åŒ–å¼€ä¸šæ—¶é—´ï¼šYYYY-MM â†’ YYYYå¹´MMæœˆ\r\n  const formatOpenTime = (time: string) => {\r\n    const [year, month] = time.split('-')\r\n    return `${year}å¹´${month}æœˆ`\r\n  }\r\n\r\n  // ç”Ÿæˆæ˜Ÿçº§å›¾æ ‡ï¼š4æ˜Ÿ â†’ â˜…â˜…â˜…â˜…\r\n  const renderStar = (star: number) => {\r\n    let starStr = ''\r\n    for (let i = 0; i < star; i++) {\r\n      starStr += 'â˜…'\r\n    }\r\n    // è¡¥å……ç°è‰²ç©ºæ˜Ÿï¼ˆå‡‘å¤Ÿ5æ˜Ÿå±•ç¤ºï¼‰\r\n    for (let i = star; i < 5; i++) {\r\n      starStr += 'â˜†'\r\n    }\r\n    return starStr\r\n  }\r\n\r\n  // é¡µé¢åŠ è½½ï¼šè·å–å‚æ•° + åŒ¹é…æ•°æ®\r\n  useEffect(() => {\r\n    const pages = Taro.getCurrentPages()\r\n    const currentPage = pages[pages.length - 1]\r\n    const options = currentPage.options\r\n    const hotelId = options.hotelId as string\r\n\r\n    const targetHotel = hotelDatabase.find(item => item.id === hotelId)\r\n    if (targetHotel) {\r\n      setHotelInfo(targetHotel)\r\n    } else {\r\n      Taro.showToast({ title: 'æœªæ‰¾åˆ°è¯¥é…’åº—', icon: 'none' })\r\n      setTimeout(() => Taro.navigateBack(), 1500)\r\n    }\r\n    setLoading(false)\r\n  }, [])\r\n\r\n  // åŠ è½½ä¸­\r\n  if (loading) {\r\n    return (\r\n      <View className=\"loading-wrap\">\r\n        <Text className=\"loading-text\">åŠ è½½ä¸­...</Text>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  if (!hotelInfo) return null\r\n\r\n  return (\r\n    <View className=\"hotel-detail-page\">\r\n      {/* å°é¢å›¾ */}\r\n      <Image className=\"hotel-cover\" src={hotelInfo.coverImage} mode=\"widthFix\" />\r\n\r\n      {/* é…’åº—åŸºç¡€ä¿¡æ¯ï¼ˆæ–°å¢ä¸­è‹±åã€æ˜Ÿçº§ã€å¼€ä¸šæ—¶é—´ï¼‰ */}\r\n      <View className=\"hotel-base-info\">\r\n        {/* é…’åº—åï¼ˆä¸­è‹±ï¼‰ */}\r\n        <Text className=\"hotel-name-cn\">{hotelInfo.nameCn}</Text>\r\n        <Text className=\"hotel-name-en\">{hotelInfo.nameEn}</Text>\r\n        \r\n        {/* æ˜Ÿçº§ + å¼€ä¸šæ—¶é—´ */}\r\n        <View className=\"hotel-star-time\">\r\n          <Text className=\"hotel-star\">{renderStar(hotelInfo.star)}</Text>\r\n          <Text className=\"hotel-open-time\">å¼€ä¸šæ—¶é—´ï¼š{formatOpenTime(hotelInfo.openTime)}</Text>\r\n        </View>\r\n        \r\n        {/* åœ°å€ */}\r\n        <Text className=\"hotel-address\">ğŸ“ {hotelInfo.address}</Text>\r\n      </View>\r\n\r\n      {/* æˆ¿å‹åˆ—è¡¨ï¼ˆæ ¸å¿ƒæ–°å¢ç»´åº¦ï¼‰ */}\r\n      <View className=\"hotel-room-types\">\r\n        <Text className=\"room-types-title\">æˆ¿å‹åˆ—è¡¨</Text>\r\n        <View className=\"room-list\">\r\n          {hotelInfo.roomTypes.map((room, index) => (\r\n            <View key={index} className=\"room-item\">\r\n              <View className=\"room-left\">\r\n                <Text className=\"room-name\">{room.name}</Text>\r\n                <Text className=\"room-desc\">{room.desc}</Text>\r\n              </View>\r\n              <View className=\"room-right\">\r\n                <Text className=\"room-price\">Â¥{room.price}</Text>\r\n                <Text className=\"room-unit\">/æ™š</Text>\r\n                <Button className=\"book-room-btn\" size=\"mini\">é¢„è®¢</Button>\r\n              </View>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      </View>\r\n\r\n      {/* é…’åº—è®¾æ–½ï¼ˆä¿ç•™ï¼‰ */}\r\n      <View className=\"hotel-facilities\">\r\n        <Text className=\"facilities-title\">é…’åº—è®¾æ–½</Text>\r\n        <View className=\"facilities-list\">\r\n          {hotelInfo.facilities.map((item, index) => (\r\n            <View key={index} className=\"facility-item\">{item}</View>\r\n          ))}\r\n        </View>\r\n      </View>\r\n\r\n      {/* é…’åº—ç®€ä»‹ï¼ˆä¿ç•™ï¼‰ */}\r\n      <View className=\"hotel-desc\">\r\n        <Text className=\"desc-title\">é…’åº—ç®€ä»‹</Text>\r\n        <Text className=\"desc-content\">{hotelInfo.desc}</Text>\r\n      </View>\r\n\r\n      {/* åº•éƒ¨é¢„è®¢æŒ‰é’®ï¼ˆä¿ç•™ï¼‰ */}\r\n      <View className=\"book-btn-wrap\">\r\n        <Button className=\"book-btn\" onClick={() => Taro.showToast({ title: 'é¢„è®¢åŠŸèƒ½å¾…å¼€å‘' })}>\r\n          ç«‹å³é¢„è®¢\r\n        </Button>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default HotelDetailPage","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/detail/index!./index.tsx\"\nvar config = {};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/detail/index', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}